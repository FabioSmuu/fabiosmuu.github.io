<div id="fb-root"></div>
<script src="//connect.facebook.net/en_US/all.js"></script>
<script type="text/javascript">
//https://developers.facebook.com/docs/javascript/reference/v7.0
//https://developers.facebook.com/docs/app-events/gamesonfacebook
//https://developers.facebook.com/docs/reference/javascript/FB.AppEvents.LogEvent

FB.init({
	appId            : '3257310224319370',
	autoLogAppEvents : true,
	xfbml            : true,
	version          : 'v7.0'
})


FB.getLoginStatus(conectar)
FB.login(conectar, {scope:'email'})

function conectar(response) {
	if (response.authResponse) {
		FB.api('/me', function(response) {
			alert('Olá, ' + response.name + '.')
			document.getElementById('comp').style.display = 'block'
			console.log('Access Token: ' + response.authResponse.accessToken)
			
			var params = {}
			params[FB.AppEvents.ParameterNames.CONTENT_ID] = 'ProdutoTeste'
			FB.AppEvents.logPurchase(1.00, 'BRL', params)
			
			console.log(FB.activateApp())
			
			console.log(FB.AppEvents.logEvent(FB.AppEvents.EventNames.ACHIEVED_LEVEL))
			
		})
	} else {
		alert('Usuario não autenticado')
		document.getElementById('comp').style.display = 'none'
	}
}

function compartilhar() {
	FB.ui({
		method: 'share',
		href: 'https://developers.facebook.com/docs/'
	}, function(response){
		if (response && !response.error_message) alert('ok')
	})
}
</script>

<input id="comp" type="button" value="Compartilha" onclick="compartilhar()" />
<div id="lv">--</div>
